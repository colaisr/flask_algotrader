{% extends 'layouts/base.html' %}

{% block content %}
<div class="app-main__inner" xmlns="http://www.w3.org/1999/html">
    <div class="app-page-title">
        <div class="page-title-wrapper">
            <div class="page-title-heading">
                <div class="page-title-icon">
                    <i class="pe-7s-albums icon-gradient bg-mean-fruit">
                    </i>
                </div>
                <div>Requirements
                    <div class="page-title-subheading">All You need to Know to use the platform.
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="column">
        <h1>IBKR Market Data subscriptions </h1>
        <p>The Agrotrader system uses SMART exchange setting to place an orders with the best price via Interactive brokers.</br> In order to get the correct Live prices You need a following Data subscriptions enabled: </p>
        <p><b>North America</b></p>
        <p>IEX Depth of Book</p>
        <p>NASDAQ (Network C/UTP) </p>
        <p>NYSE (Network A/CTA)</p>
        <p>NYSE American, BATS, ARCA, IEX, and Regional Exchanges (Network B)</p>
        <p>US Mutual Funds</p>
        <p><b>Global</b></p>
        <p>IDEAL FX</p>
        <p>US and EU Bond Quotes</p>
        <p>Your subscription page should look as following(User Settings>Market Data Subscriptions) :</p>
        <img style="width: 500px;" src="/static/images/Requirements/MarketDataSubscriptions.png">

        <h1>TWS without SMS confirmation</h1>
        <p>The security settings of the Interactive brokers require a daily restart for TWS Trader application. We do it for every user...</br>
            In order to let us do that, the Secure Login System Opt Out should be applied.</p>
        <p>1. Set a Secure Login Devices: </br>
        a. Go to User Settings > Security > Secure Login System > Seamless Authentication.</br>
        b. Use the check box to enable or disable Seamless Authentication for your mobile device with IB Key.</br>
            c. If disabled, you will be required to use a challenge code and pass code sequence to log in.</br></p>
       <p>2. SLS Opt Out: </br>
        a. Go to User Settings >Security > Secure Login System > Secure Login required for trading..</br>
        b. Check the radio button "I Only want to use my Secure Login Device When logging into Client Portal"</br></p>
        <img style="width: 800px;" src="/static/images/Requirements/sls_optout.png">


        <p>You may use TWS +Algotrader pair on Your personal computer. if You decide to do so - please follow the instruction below. </br>
            Otherwise we <b>set everything for You </b> when we deploy a dedicated Virtual Machine</p>

        <h1>TWS configuration</h1>
       <p> 1. Select Never Lock Trader Workstation</br>
        2.Select Autorestart option</p>
        <img style="width: 500px;" src="/static/images/Requirements/tws1.png">
        <p>3.Enable ActiveX and Socket clients</br>
        4.Dismiss Read Only API</br>
        5.Change Port to 7498</br>
            6. Compare the rest to image below:</p>
        <img style="width: 600px;" src="/static/images/Requirements/tws1.png">
        <p>7.Bypass order precautions on API Oredrs</p>
        <img style="width: 600px;" src="/static/images/Requirements/tws3.png">

        <h1>Algotrader Client </h1>
        <h2>Windows</h2>

        <h3>Algotrader installation</h3>

        1. Download and install TWS Trader station. (Gateway can be used - but it have no AutoUpdate feature)<br>
        <a href="https://www.interactivebrokers.com/en/index.php?f=16040" target="_blank"><i class="nav-link-icon fa fa-download"> </i>Download TWS</a><br>
        2. Make sure to open API and set port as in the settings, remove precauctious message<br>

        3. Install Python 3.9 if needed <br>
                <a href="https://www.python.org/downloads/release/python-392/" target="_blank"><i class="nav-link-icon fa fa-download"> </i>Python 3.9</a><br>
        4. Download Algotrader package<br>
        <a href="/station/downloadzip" download ><i class="nav-link-icon fa fa-download"> </i>AlgoTrader Package</a><br>
        5. Unzip where feels good :)<br>
        6. Go to forder "twsapi" run : installWindows.bat<br>
        7. Ready! Launch with "win_start_all.bat"<br>

        <h3>Setting a PC</h3>
        <h4>Adding to Autostart</h4>
        1. Go to algotrader folder. Right-click win_start_all.bat, create shortcut. Cut/Copy it.<br>
        2. Go to C:\Users\Administrator\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup<br>
        3. Paste shortcut.<br>
        <h4>Setting Autorestart</h4>
        1. Open Task Scheduler<br>
        2. Create Basic task. Action: shutdown  Argument: /r<br>
        <h4>Setting AutoLogOn</h4>
        1. Right click on Start and select Run, type NetPLWiz and then press Enter.<br>
        2. Select User Account. Uncheck the option to ask for a password.<br>


        <h2>Linux</h2>

        <h3>Algotrader installation</h3>

        1. Download and install TWS Trader station. (Gateway can be used - but it have no AutoUpdate feature)<br>
        <a href="https://www.interactivebrokers.com/en/index.php?f=16040" target="_blank"><i class="nav-link-icon fa fa-download"> </i>Download TWS</a><br>
        2. Make sure to open API and set port as in the settings, remove precauctious message<br>
        4. Download Algotrader package<br>
        <a href="/station/downloadzip" download ><i class="nav-link-icon fa fa-download"> </i>AlgoTrader Package</a><br>
        5. Unzip <br>
        6. Go to forder "twsapi" make linux_install.sh executable<br>
        7. run : linux_install.sh<br>
        7. Ready! Launch with "linux_start_all.sh"<br>

        <h3>Setting a PC</h3>
        <h4>Adding to Autostart</h4>
        1. Go to Startup applications.Add new command.Select linux_start_all.sh<br>
        2. modify to format:    mate-terminal -e "bash -c PATHTOFILE"<br>
        3. create cron job's for autorestart and watch dog:<br>
        4. sudo crontab -e<br>
        5. 0 16   *   *   *    /sbin/shutdown -r<br>
        6. 0 10   *   *   *    /sbin/shutdown -r<br>
        7. */5 * * * * /home/su/Downloads/algotrader-station/algotrader/linux_watch_dog_sh  <br>
        8. it configures 2 daily restarts : mornig and before trade, and watchdog app to check if algotrader is running - every 5 minutes.<br>
        9.Ready<br>



    </div>
</div>

{% endblock %}
